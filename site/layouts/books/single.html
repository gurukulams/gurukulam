{{ define "main" }} {{ $section := .Site.GetPage "section" .Section }}

  <nav class="navbar border-1 border-bottom">
  <div class="row w-100">
    <div class="col-4 text-start">
      {{if .NextInSection}}<a href="{{strings.TrimRight "/" .NextInSection.Permalink}}">{{.NextInSection.Title}}</a>{{end}}
    </div>
    <div class="col-4 mb-2 text-center">
      <a class="text-dark"
        href="{{strings.TrimRight "/" .Parent.Permalink}}">{{.Parent.Title}}</a>
         <h3>{{.Title}}</h3>
    </div>
    <div class="col-4 text-end">
      {{if .PrevInSection}}<a href="{{strings.TrimRight "/" .PrevInSection.Permalink}}">{{.PrevInSection.Title}}</a>{{end}}
    </div>
  </div>
</nav>

<main id="content" class="pt-3">
  {{- .Content -}}
  <input type="checkbox" name="hide-sidebar" id="hide-sidebar" value="false" style="display: none;" />
    <label class="radio h3" for="hide-sidebar" id="hide-sidebar-control">
        <a class="button is-small"></a>
    </label>
    <div id="sidebar" class="sidebar border border-start container-fluid py-4" role="navigation">
      <div class="row py-4 my-1">
        <div class="card col-10 px-0 py-2 min-vh-100">
          <div class="card-header">
            <h5>Videos</h5>
          </div>
          <div class="card-body">
            <ul class="list-group">
              {{ range .Params.References.Videos }}
                {{ $video_segments := split . ":"  }}
                {{ $video_provider := index $video_segments 0  }}
                <li class="list-group-item">
                  <div class="ratio ratio-16x9">
                    {{if eq $video_provider "youtube"}}
                    <iframe src="https://www.youtube.com/embed/{{ index $video_segments 1 }}" title="YouTube video" allowfullscreen></iframe>
                    {{ else if eq $video_provider "vimeo"}}
                    <iframe src="https://player.vimeo.com/video/777650452?h=25996e5502" frameborder="0" allow="autoplay; fullscreen; picture-in-picture" allowfullscreen></iframe>
                    {{ else }}

                    {{ errorf "Video provider %q is not supported" $video_provider }}

                    {{ end }}
                  </div>
                </li>
              {{ end }}
              
            </ul>
          </div>
        </div>

        <ul class="list-group float-end col-2 p-0 mt-0">
          <li class="list-group-item"><i class="fa-solid fa-photo-film"></i></li>
          <li class="list-group-item"><i class="fa-solid fa-note-sticky"></i></li>
        </ul>
      </div>
    </div>
</main>


{{ end }}